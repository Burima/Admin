@model LYSAdmin.Model.House
@{
    ViewBag.Title = "House";
}
<link href="~/Content/Custom/Houses.css" rel="stylesheet" />
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
<div class="row  border-bottom white-bg dashboard-header">
    <!--Center Content-->
    <div class="col-sm-9">

       <h3 class="m-t-none m-b">Add new House</h3>
        <ul class="panel-group" id="accordion">
            <li>
                <h3><a href="#accordionOne" data-toggle="collapse" data-parent="#accordion">Basic Information</a></h3>
                    <ul id="accordionOne" class="panel-collapse panel in">
                        <li class="saving-progress hidden"><h4>Saved!</h4></li>
                        <li>
                            <div class="form-group">
                                <label>House Name</label>
                                <input type="text" id="txtHouseName" placeholder="Enter house name" class="form-control input-large" maxlength="50" tabindex="1" required name="House.HouseName">

                                <div class="row-space-top-1 max-character-entered"><span class="span-char-left">50</span> characters left</div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea rows="4" id="txtDescription" placeholder="Description" class="form-control input-large" maxlength="500" tabindex="3" name="House.Description"></textarea>

                                <div class="row-space-top-1 max-character-entered"><span class="span-char-left">500</span> characters left</div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group row-padding-top-5">
                                <div class="pull-right">
                                    <button id="btnNext" class="btn btn-primary" type="button" tabindex="5">Next</button>
                                </div>
                            </div>

                        </li>

                   </ul>
            </li>
            <li>
                <h3><a href="#accordionTwo" data-toggle="collapse" data-parent="#accordion">Locality</a></h3>
                   <ul id="accordionTwo" class="panel-collapse panel">
                    <li>
                        <div class="row">
                            <div class="col-md-5">
                                <label>Address</label>
                            </div>
                            <div class="col-md-5">
                                <label>Landmark</label>
                            </div>
                            <div class="col-md-5">
                                <input type="text" id="txtAddress" placeholder="Enter Address" class="form-control input-sm" maxlength="50" tabindex="1" required name="House.Address">
                                <div class="row-space-top-1 max-character-entered"><span class="span-char-left">50</span> characters left</div>
                            </div>
                            <div class="col-md-5">
                                <input type="text" id="txtLandmark" placeholder="Enter Landmark" class="form-control input-sm" maxlength="50" tabindex="1" required name="House.Landmark">
                                <div class="row-space-top-1 max-character-entered"><span class="span-char-left">50</span> characters left</div>
                            </div>
                            <div class="col-md-2">
                                <button id="btnNext" class="btn btn-primary" type="button" tabindex="5" value="Geocode" onclick="codeAddress()">Next</button>
                            </div>
                        </div>
                        <div class="row row-padding-top-5">
                            <div id="map-canvas" class="col-md-12"></div>
                        </div>
                       
                    </li>
                </ul>
                
            </li>
            @*Accordian Three - Detailed Information*@
            <li>
                <h3><a href="#accordionThree" data-toggle="collapse" data-parent="#accordion">Detailed Information</a></h3>
                <ul id="accordionThree" class="panel-collapse panel">
                    <li>
                        <div class="row">
                            <div class="col-md-4">
                                <label>BHK Types</label>
                            </div>
                            <div class="col-md-4">
                                <label>Sharing Type</label>
                            </div>
                            <div class="col-md-4">
                                <label>Gender</label>
                            </div>
                            <div class="col-md-4">
                                <select id="ddlBHKTypes" class="form-control input-sm" tabindex="1" required name="HouseDescripion.BedRoom">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <select id="ddlSharingTypes" class="form-control input-sm" tabindex="1" required name="HouseDescripion.SharingType">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <select id="ddlGender" class="form-control input-sm" tabindex="1" required name="HouseDescripion.Gender">
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row row-padding-top-5">
                            <div class="col-md-5">
                                <label>Monthly Rent</label>
                            </div>
                            <div class="col-md-5">
                                <label>Deposit</label>
                            </div>
                          
                            <div class="col-md-5">
                                <input type="text" id="txtMonthlyRent" placeholder="Monthly Rent" class="form-control input-sm" maxlength="50" tabindex="1" required name="HouseDescription.Address">
                            </div>
                            <div class="col-md-5">
                                <input type="text" id="txtDeposit" placeholder="Deposit" class="form-control input-sm" maxlength="50" tabindex="1" required name="HouseDescription.Landmark">
                            </div>
                            <div class="col-md-2">
                                <button id="btnNext" class="btn btn-primary" type="button" tabindex="5">Next</button>
                            </div>
                        </div>
                    </li>
                </ul>
            </li>
            @*Accordian Four - Basic Ameniies*@
            <li>
                <h3><a href="#accordionFour" data-toggle="collapse" data-parent="#accordion">Amenities</a></h3>
                <ul id="accordionFour" class="panel-collapse panel">
                    <li>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">AC
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Two Wheeler Open Parking
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Wifi
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Room Service
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Fridge
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Water Supply
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">GYM
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Party Hall
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Four Wheeler Open Parking
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Common TV
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">House Keeping
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Washing Machine
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Hot and Cold Water Supply
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Individual Lockers
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Swimming Pool
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Lift
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Attached Bathrooms
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Two wheeler closed parking
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Individual TV
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Security
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Newspaper
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Mineral water
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Intercom Facility
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Playground
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Club house
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Power Backup
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Four wheeler close parking
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">LCD TV with cable connection
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Emergency Medical Services
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Ironing and washing services
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Aqua Guard
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Video Survillience
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Kitchen Facility with gas connection
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">LCD TV with cable connection
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Emergency Medical Services
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Ironing and washing services
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Non Veg allowed
                            </div>
                            <div class="col-md-4">
                                <input type="checkbox" name="BasicAmenities" value="1">Parents allowed
                            </div>
                            <div class="col-md-4">

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5 row-padding-top-5">
                                <button id="btnNext" class="btn btn-primary" type="button" tabindex="5">Next</button>
                            </div>

                        </div>
                    </li>
                </ul>
            </li>
            @*Accordian Five - Images*@
            <li>
                <h3><a href="#accordionFive" data-toggle="collapse" data-parent="#accordion">Gallery</a></h3>
                <ul id="accordionFive" class="panel-collapse panel">
                    <li>
                        <div class="ibox-content">
                            <form id="my-awesome-dropzone" class="dropzone" action="@Url.Action("FileUploadHandler", "Forms")" method="post" enctype="multipart/form-data">
                                <div class="dropzone-previews"></div>
                                
                                <button type="submit" class="btn btn-primary pull-right">Submit this form!</button>
                            </form>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>
   </div>

    <div class="col-sm-3">
        <div class="statistic-box">
            <h4>
                Project Beta progress
            </h4>
            <p>
                You have two project with not compleated task.
            </p>
            <div class="row text-center">
                <div class="col-lg-6">
                    <canvas id="polarChart" width="80" height="80"></canvas>
                    <h5>Kolter</h5>
                </div>
                <div class="col-lg-6">
                    <canvas id="doughnutChart" width="78" height="78"></canvas>
                    <h5>Maxtor</h5>
                </div>
            </div>
            <div class="m-t">
                <small>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</small>
            </div>

        </div>
    </div>
</div>

@section Styles {
    @Styles.Render("~/Content/plugins/dropzone/dropZoneStyles")
}
@section scripts{
@Scripts.Render("~/plugins/dropZone")
    <script>
        //reference url
        var HousesUrl = '@Url.Action("Houses","Properties")';

        $(document).ready(function () {
            charlimit();
            inputkeyup();
            $('#btnCancel').click(function () {
                window.location = HousesUrl;
            });
            Dropzone.options.myAwesomeDropzone = {

                autoProcessQueue: false,
                parallelUploads: 100,
                maxFiles: 100,
                paramName: "files",

                // Dropzone settings
                init: function () {
                    var myDropzone = this;

                    this.element.querySelector("button[type=submit]").addEventListener("click", function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        myDropzone.processQueue();
                    });
                    this.on("sendingmultiple", function () {
                    });
                    this.on("successmultiple", function (files, response) {
                    });
                    this.on("errormultiple", function (files, response) {
                    });
                }

            }

        });
        
        //show the limit of char left
        function charlimit() {
            $("form :input").each(function () {
                var input = $(this); // This is the jquery object of the input, do what you will
                if (input.parent().find("span.span-char-left").length) {
                    input.parent().find("span.span-char-left").text((input.attr("maxlength")) - (input.val().trim().length));
                }
            });
        };

        //keyup event for all inputs
        function inputkeyup() {
            $("form :input").each(function () {
                var input = $(this);
                input.keyup(function () {
                    if (input.parent().find("span.span-char-left").length) {
                        input.parent().find("span.span-char-left").text((input.attr("maxlength")) - (input.val().trim().length));
                    }
                });
            })
        };

        var geocoder;
        var map;
        var infowindow;
        var latlng;
        function initialize() {
            geocoder = new google.maps.Geocoder();
            latlng = new google.maps.LatLng(21.1311084, 82.7792231);
            var mapOptions = {
                zoom: 4,
                center: latlng
            }
            map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
        }

        function codeAddress() {
            var address = document.getElementById('txtAddress').value;
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    var mapOptions = {
                        zoom: 15,
                     }
                    map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
                    map.setCenter(results[0].geometry.location);
                    var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location,
                        animation: google.maps.Animation.DROP
                    });
                    infowindow = new google.maps.InfoWindow();
                    
                } else {
                    alert('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
       

        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
}
