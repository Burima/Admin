@model LYSAdmin.Model.RoomViewModel
@using LYSAdmin.Model

@{
    ViewBag.Title = "Rooms";

    var AreaID = Session["AreaID"] != null ? Convert.ToInt32(Session["AreaID"]) : 0;
    var Areas = System.Web.HttpContext.Current.Application["Areas"] as List<Area>;

    //cityname and areaname
    var CityName = Session["CityName"] != null ? Convert.ToString(Session["CityName"]) : String.Empty;
    var AreaName = Session["AreaName"] != null ? Convert.ToString(Session["AreaName"]) : String.Empty;
    var showMessage = TempData["Message"] != null ? true : false;
  
}
<link href='@Url.Content("~/Content/Custom/Rooms.css")' rel="stylesheet" />
@Styles.Render("~/Content/plugins/dataTables/dataTablesStyles")
<div class="modal inmodal" id="modalSelectCityAndArea" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <h4 class="modal-title">Select Location</h4>

            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>City</label>
                    <select id="ddlCity" name="CityID" class="form-control" required>
                        <option value="" disabled selected>Select City</option>
                        @foreach (var city in System.Web.HttpContext.Current.Application["Cities"] as IList<City>)
                        {

                            <option value="@city.CityID">@city.CityName</option>
                        }
                    </select>

                </div>
                <div id="divArea" class="form-group hidden">
                    <label>Area</label>
                    <select id="ddlArea" name="AreaID" class="form-control" required></select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnSaveLocation">Save changes</button>
            </div>
        </div>
    </div>
</div>

@if (Session["AreaID"] != null)
{
<div class="wrapper wrapper-content animated fadeInRight" id="divRooms" style="display:none">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Rooms</h5>
                    <button class="btn btn-primary pull-right btn-show-add-room" type="button" style="margin-top:-1%;">Add</button>
                </div>
                <div class="ibox-content">

                    <table class="table table-striped table-bordered table-hover dataTables-houses">
                        <thead>
                            <tr>
                                <th>Room Number</th>
                                <th>PG/Hostel Name</th>
                                <th>House Name</th>
                                <th>Monthly Rent</th>
                                <th>Deposit</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                           
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Room Number</th>
                                <th>PG/Hostel Name</th>
                                <th>House Name</th>
                                <th>Monthly Rent</th>
                                <th>Deposit</th>
                                <th>Action</th>
                            </tr>
                        </tfoot>
                    </table>

                </div>
            </div>
        </div>
    </div>

</div>
    
<div class="row  border-bottom white-bg dashboard-header" style="display:none;" id="divAddRoom">
   @Html.Partial("_AddRoom", Model)
</div><!-- End Add Room -->
}


@section scripts{

    <script>
        var AreaID = '@AreaID';
        var Areas = '@Html.Raw(Json.Encode(Areas))';

        //passing CityName and AreaName to Housees.js
        var cityname = '@CityName';
        var areaname = '@AreaName';

        //reference url
        var RoomsUrl = '@Url.Action("Rooms","Estate")';
        var UpdateLocationUrl = '@Url.Action("UpdateLocation", "Estate")';
    </script>
    @Scripts.Render("~/plugins/dataTables")
    <script src='@Url.Content("~/Scripts/plugins/jquery-ui/jquery-ui.min.js")'></script>
    <script src='@Url.Content("~/Scripts/Custom/Room.js")'></script>
}
