@using LYSAdmin.Model;
@model LYSAdmin.Model.ApartmentViewModel
@{
    ViewBag.Title = "Apartments";
    var User = (User)Session["User"];
}

<!-- Datatable Css-->
@Styles.Render("~/Content/plugins/dataTables/dataTablesStyles")

<div class="wrapper wrapper-content animated fadeInRight" id="divApartments">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Apartments</h5>
                    <button class="btn btn-primary pull-right btn-show-add-apartment" type="button" style="margin-top:-1%;">Add</button>
                </div>
                <div class="ibox-content">

                    <table class="table table-striped table-bordered table-hover dataTables-apartments">
                        <thead>
                            <tr>
                                <th>Apartment Name</th>
                                <th>Description</th>
                                <th>House No</th>
                                <th>Add Blocks</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null && Model.Apartments != null && Model.Apartments.Count > 0)
                            {
                                foreach (var apartment in Model.Apartments)
                                {
                                    <tr class="gradeX" id="@apartment.ApartmentID">                                       
                                        <td><a onclick="fnGetApartmentByID(this)" style="cursor:pointer;">@apartment.ApartmentName</a></td>
                                        <td>@apartment.HouseNo</td>
                                        <td>@apartment.Description</td>
                                        <td><input type="button" class="btnAddBlocks" value="Add Blocks"></td>
                                        <td><input type="button" class="btnDeleteApartment" value="Delete"></td>
                                    </tr>
                                }
                            }
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Apartment Name</th>
                                <th>Description</th>
                                <th>House No</th>
                                <th>Add Block</th>
                                <th>Action</th>
                            </tr>
                        </tfoot>
                    </table>

                </div>
            </div>
        </div>
    </div>

</div>

<div class="row  border-bottom white-bg dashboard-header" style="display:none;" id="divAddApartment">
    @Html.Partial("_AddApartment")
</div>
<div class="row  border-bottom white-bg dashboard-header" style="display:none;" id="divEditApartment">
    @Html.Partial("_EditApartment")
</div>


@section scripts{

    <script>
        //reference url
        var ApartmentsUrl = '@Url.Action("Apartments","Estate")';
        var AddApartmentUrl = '@Url.Action("AddApartment", "Estate")';
        var GetApartmentByIDUrl = '@Url.Action("GetApartmentByID", "Estate")';
        var EditApartmentUrl = '@Url.Action("EditApartment", "Estate")';
    </script>

    <!-- jQuery DataTable -->
    @Scripts.Render("~/plugins/dataTables")
@*<script src='@Url.Action("~/Scripts/plugins/fullcalendar/moment.min.js")'></script>*@
    <!--Custom Script for Apartment-->
    <script src='@Url.Content("~/Scripts/Custom/Apartment.js")'></script>
}
